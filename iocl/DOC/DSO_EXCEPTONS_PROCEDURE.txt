#1>.STATE OFFICE OF DSO: Haryana, Delhi
#2>. VEHICLE UNDER DSO:

SELECT DISTINCT EVM_VEHICLE_ID FROM ETRK_VEHICLE_MST
WHERE EVM_ISACTIVE=1 AND EVM_SUPPLY_LOC_ID IN (
SELECT ESLM_SUPPLY_LOC_ID FROM ETRK_SUPPLY_LOC_MST 
WHERE UPPER(ESLM_SUPPLY_LOC_STATE) IN (UPPER('Haryana'), UPPER('Delhi')) AND ESLM_ISACTIVE = 1
)

#3>. REMOVE PROCEDURE:  IOCL_PROC_EXCEPTIONS_SCHEDULER_NEW_T_PANJAB_BEFORE
     REMOVE PROCEDURE: IOCL_PROC_ALLIDLE_CLOSEDTRIPS_STOPPAGE_RECOVERY

#4>. ADDED PEOCEDURE: IOCL_PROC_EXCEPTIONS_SCHEDULER_NEW_T_DELHI_BEFORE ---> PROCESS DATA FROM 6/12/2015
#5>. ADDED PROCEDURE: IOCL_PROC_ALLIDLE_CLOSEDTRIPS_DELHI ---> PROCESS DATA FROM 6/12/2015

#5>. DEPLOYMENT PROCESS:

EXCLUDE DSO VEHICLE TO PROCESSED FROM FOLLOWING PROCEDURE:

A>. IOCL_PROC_EXCEPTIONS_SCHEDULER_NEW_HASH
B>. IOCL_PROC_ALLIDLE_CLOSEDTRIPS_HASH

#6>. FOR RECOVERY: IOCL_PROC_EXCEPTIONS_SCHEDULER_NEW_T_RECOVERY_NEW

#7>. Processed data query:

select * from IOCL_INVOICE_DATA WHERE IID_TRIP_STATUS=2 
AND IID_INVOICE_DATE BETWEEN STR_TO_DATE('6/12/2015 00:00:00', '%d/%m/%Y %H:%i:%s') AND STR_TO_DATE('12/12/2015 23:59:59', '%d/%m/%Y %H:%i:%s')
AND IID_VEHICLE_ID IN (SELECT DISTINCT EVM_VEHICLE_ID FROM ETRK_VEHICLE_MST
WHERE EVM_ISACTIVE=1 AND EVM_SUPPLY_LOC_ID IN (
SELECT ESLM_SUPPLY_LOC_ID FROM ETRK_SUPPLY_LOC_MST 
WHERE UPPER(ESLM_SUPPLY_LOC_STATE) IN (UPPER('Haryana'), UPPER('Delhi')) AND ESLM_ISACTIVE = 1
))  ORDER BY IID_INVOICE_DATE DESC;